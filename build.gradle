plugins {
    id 'org.jetbrains.kotlin.jvm' version '1.4.10'

}
apply plugin: 'application'

group 'org.example'
version '1.0'

repositories {
    mavenCentral()
    jcenter()
}

dependencies {
    implementation "org.jetbrains.kotlin:kotlin-stdlib"

    implementation "io.ktor:ktor-server-core:1.3.2"
    implementation "io.ktor:ktor-server-netty:1.3.2"
    implementation "io.ktor:ktor-gson:1.3.2"

}

mainClassName = "ServerKt"


compileKotlin{
    kotlinOptions.jvmTarget = "1.8"

}
compileTestKotlin{
    kotlinOptions.jvmTarget = "1.8"
}

jar{
    manifest{
        attributes 'Main-Class': 'AppKt'
    }
    from{
        configurations.compileClasspath.collect{
            it.isDirectory()? it : zipTree(it)
        }
    }
}
